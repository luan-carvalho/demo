<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Execução de Serviços</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap 5 Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>

<body th:fragment="content">

    <div class="container-fluid p-4">
        <style>

        </style>

        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 class="h3 mb-0">Execução de Serviços</h1>
            <button type="button" class="btn btn-primary shadow-sm" data-bs-toggle="modal" data-bs-target="#addServiceModal">
                <i class="bi bi-plus-lg me-1"></i> Novo Serviço
            </button>
        </div>
        <div class="kanban-board">

            <div class="kanban-column shadow-sm">
                <div class="kanban-column-header">
                    <h5 class="mb-0 fw-bold text-secondary"><i class="bi bi-clock-history me-2"></i>Pendente</h5>
                </div>
                <div id="pending-column" class="kanban-cards">
                    <!-- Sample Card 1 -->
                    <div class="card shadow-sm mb-3 border" data-service-id="101">
                        <div class="card-body p-3">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <h6 class="card-title mb-0">Rex</h6>
                                <span class="badge bg-light text-dark-emphasis border rounded-pill">#101</span>
                            </div>
                            <p class="card-subtitle mb-2 text-muted small"><i class="bi bi-person"></i> João da Silva</p>
                            <div class="mt-3 border-top pt-2">
                                <p class="small text-muted mb-1 fw-bold">Serviços:</p>
                                <div class="d-flex flex-wrap gap-1">
                                    <span class="badge bg-secondary-subtle text-secondary-emphasis rounded-pill">Banho</span>
                                    <span class="badge bg-secondary-subtle text-secondary-emphasis rounded-pill">Tosa Higiênica</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Sample Card 2 -->
                    <div class="card shadow-sm mb-3 border" data-service-id="102">
                        <div class="card-body p-3">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <h6 class="card-title mb-0">Luna</h6>
                                <span class="badge bg-light text-dark-emphasis border rounded-pill">#102</span>
                            </div>
                            <p class="card-subtitle mb-2 text-muted small"><i class="bi bi-person"></i> Maria Oliveira</p>
                             <div class="small text-muted mb-2"><i class="bi bi-grid-3x3-gap-fill"></i> Célula: <span class="fw-bold">5</span></div>
                            <div class="mt-3 border-top pt-2">
                                <p class="small text-muted mb-1 fw-bold">Serviços:</p>
                                <div class="d-flex flex-wrap gap-1">
                                    <span class="badge bg-secondary-subtle text-secondary-emphasis rounded-pill">Consulta</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- IN PROGRESS Column -->
            <div class="kanban-column shadow-sm">
                <div class="kanban-column-header">
                    <h5 class="mb-0 fw-bold text-primary"><i class="bi bi-gear-fill me-2"></i>Em Andamento</h5>
                </div>
                <div id="inprogress-column" class="kanban-cards">
                    <!-- Sample Card 3 -->
                    <div class="card shadow-sm mb-3 border" data-service-id="103">
                        <div class="card-body p-3">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <h6 class="card-title mb-0">Thor</h6>
                                <span class="badge bg-light text-dark-emphasis border rounded-pill">#103</span>
                            </div>
                            <p class="card-subtitle mb-2 text-muted small"><i class="bi bi-person"></i> Carlos Pereira</p>
                            <div class="mt-3 border-top pt-2">
                                <p class="small text-muted mb-1 fw-bold">Serviços:</p>
                                <div class="d-flex flex-wrap gap-1">
                                    <span class="badge bg-secondary-subtle text-secondary-emphasis rounded-pill">Creche</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- COMPLETED Column -->
            <div class="kanban-column shadow-sm">
                <div class="kanban-column-header">
                    <h5 class="mb-0 fw-bold text-success"><i class="bi bi-check2-circle me-2"></i>Concluído</h5>
                </div>
                <div id="completed-column" class="kanban-cards">
                     <!-- Sample Card 4 -->
                     <div class="card shadow-sm mb-3 border" data-service-id="104">
                        <div class="card-body p-3">
                            <div class="d-flex justify-content-between align-items-start mb-2">
                                <h6 class="card-title mb-0">Mel</h6>
                                <span class="badge bg-light text-dark-emphasis border rounded-pill">#104</span>
                            </div>
                            <p class="card-subtitle mb-2 text-muted small"><i class="bi bi-person"></i> Ana Costa</p>
                            <div class="mt-3 border-top pt-2">
                                <p class="small text-muted mb-1 fw-bold">Serviços:</p>
                                <div class="d-flex flex-wrap gap-1">
                                    <span class="badge bg-secondary-subtle text-secondary-emphasis rounded-pill">Banho e Tosa</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div> <!-- End Kanban Board -->

    </div> <!-- End Main Container -->


    <!-- ======================= -->
    <!--  Modal: Add New Service -->
    <!-- ======================= -->
    <div class="modal fade" id="addServiceModal" tabindex="-1" aria-labelledby="addServiceModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <!-- A form tag would wrap the content for a real submission -->
                <form>
                    <div class="modal-header">
                        <h5 class="modal-title" id="addServiceModalLabel">Agendar Novo Serviço</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">

                        <!-- Tutor Selection -->
                        <div class="mb-3">
                            <label for="clientSelect" class="form-label">Tutor</label>
                            <select class="form-select" id="clientSelect" name="tutorId" required>
                                <option value="" selected disabled>Selecione um tutor...</option>
                                <option value="1">João da Silva</option>
                                <option value="2">Maria Oliveira</option>
                                <option value="3">Carlos Pereira</option>
                            </select>
                        </div>

                        <!-- Pet Selection -->
                        <div class="mb-3">
                            <label for="petSelect" class="form-label">Pet</label>
                            <select class="form-select" id="petSelect" name="petId" required disabled>
                                <option value="" selected disabled>Selecione um tutor primeiro</option>
                                <!-- This would be populated dynamically -->
                            </select>
                        </div>

                        <!-- Services Selection -->
                        <div class="mb-3">
                             <label class="form-label">Serviços a Executar</label>
                             <div class="border rounded p-2" style="max-height: 150px; overflow-y: auto;">
                                 <div class="form-check">
                                     <input class="form-check-input" type="checkbox" value="1" id="care-1">
                                     <label class="form-check-label" for="care-1">Banho</label>
                                 </div>
                                 <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="2" id="care-2">
                                    <label class="form-check-label" for="care-2">Tosa Higiênica</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="3" id="care-3">
                                    <label class="form-check-label" for="care-3">Consulta Veterinária</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="4" id="care-4">
                                    <label class="form-check-label" for="care-4">Creche (Diária)</label>
                                </div>
                             </div>
                        </div>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                        <button type="submit" class="btn btn-primary"><i class="bi bi-check-circle me-1"></i>Agendar Serviço</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

</body>
</html>